models:
  - name: customers_stg
    description: Staged customer data from order management system with minor transformations
    columns:
      - name: Email
        description: email of the customer
        tests:
          - string_not_empty
      - name: Phone
        description: phone number of the customer
        tests:
          - string_not_empty
      - name: address
        description: the address of the customer
        tests:
          - not_null
          - string_not_empty

  - name: orders_fact
    description: order data from order management system with major transformations
    columns:
      - name: StatusDesc
        description: status description beased on the StatusCD values
        tests:
          - string_not_empty
      - name: StatusCD
        description: "{{ doc('StatusCD') }}"
        tests:
          - accepted_values:
              arguments:
                values: ['01','02','03']
  - name: orderitems_stg
    description: Staged order data from order management system with minor transformations
    columns:
      - name: OrderID
        description: The primary key of the orders_stg table and the forign key of the orderitems_stg table
        tests:
          - relationships:
              arguments:
                to: ref('orders_stg')
                field: OrderID
